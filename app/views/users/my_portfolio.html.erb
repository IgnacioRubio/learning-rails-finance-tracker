<h1>My Portfolio</h1>

<div class="search-area">
  <h3>Search Stocks</h3>

  <%= form_tag search_stock_path, remote: true, method: :get do %>
    <div class="form-group row">
      <div class="col-sm-9 no-right-padding">
        <%= text_field_tag( 
              :stock, 
              params[:stock], 
              placeholder: 'Stock ticker symbol', 
              autofocus: true, 
              class: 'form-control form-control-lg' 
        ) %>
      </div>

      <div class="col-sm-3 no-left-padding">
        <%= button_tag(
              fa_icon('search 2x'),
              type: :submit,
              class: 'btn btn-success'
        ) %>
      </div>
    </div>
  <% end %>
</div>

<div id="results" class="mb-3">
</div>

<% if @tracked_stocks.present? %>
  <div class="row">
    <div class="col-9">
      <%= render(
            partial: 'stocks/list', 
            locals: {stocks: @tracked_stocks}
      ) %>
    </div>
  </div>

  <div class="text-info">
    <% tracked_stocks_count = @tracked_stocks.count %>
    <%= "Total #{'stock'.pluralize(tracked_stocks_count)} tracked: #{tracked_stocks_count}" %>
  </div>
<% end %>